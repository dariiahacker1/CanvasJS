<html>
<link rel="stylesheet" type="text/css" href="style.css">
<link href="img/favicon1.ico" rel="icon" type="image/x-icon"/>
<body class="fon3">


<form>
    <h1 class="texth3"> Cross Section Of a Sphere </h1>
    <canvas id="canvas" width="500" height="500" display="block"
            style="background-color:#8aacf5; border: 3px solid #000000; box-shadow: 0px 0px 20px rgb(89, 250, 80); border-radius: 30px; margin:10px;">

    </canvas>

    <dopform>
        <h1 class="texth3dop"> Animation of line color change </h1>
        <textsphere>
            <commsphere> // an array of colors used for animation</commsphere>
            <br> var colors = ['#3357C9',
            '#5174E3',
            '#6284EB',
            '#0585B6',
            '#24A691',
            '#242FB3'];

            <br>
            <commsphere>// a variable indicating the current color index in the colors array
            </commsphere>
            <br>var currentColor = 0;

            <br>
            <commsphere>// the function draws lines on the canvas</commsphere>
            <br>drawLines();

            <br>
            <commsphere>// a function that starts an animation</commsphere>
            <br>function startAnimation() {

            <br>
            <commsphere>// nested function that changes the color of lines</commsphere>
            <br>function changeColor() {
            <br>
            <commsphere> // change the index to the next color
            </commsphere>
            <br>currentColor = (currentColor + 1) % colors.length;
            <br>
            <commsphere> // set the following color for the lines</commsphere>
            <br>ctx.strokeStyle = colors[currentColor] &nbsp; &nbsp;
            <br>
            <commsphere> // draw lines with a new color</commsphere>
            <br>drawLines(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <br>
            <commsphere> // call the same function after 300 ms
            </commsphere>
            <br>setTimeout(changeColor, 300); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <br> }
            <br>
            <commsphere> // start the color change</commsphere>
            <br> changeColor(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <br>}

        </textsphere>

        <dopform2>

            <h1 class="texth5dop"> Gradient fill </h1>
            <doptextsphere>
                var gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);

                <br> gradient.addColorStop(0, '#FBF01AFF');

                <br> gradient.addColorStop(0.5, '#1AFB67FF');

                <br> gradient.addColorStop(1, '#1A43FBFF');
                <br>
                <br> ctx.fillStyle = gradient;

                <br> ctx.fill();

                <br> ctx.stroke();
            </doptextsphere>
        </dopform2>
    </dopform>

    <div>
        <center>
            <a class="but" href="cube.html">
                <bb>Back </bb>
            </a>
            <a class="but" href="index.html">
                <bb> Home </bb>
            </a>
            <a class="but" href="pyramid.html">
                <bb> Forward </bb>
            </a>
        </center>

    </div>


</form>
<button class="btn" onclick="startAnimation()">
    <bb> Animation</bb>
</button>


<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    ctx.scale(0.95, 0.95)

    var colors = ['#3357C9',
        '#5174E3',
        '#6284EB',
        '#0585B6',
        '#24A691',
        '#242FB3'];

    var currentColor = 0;


    drawLines();

    var gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
    gradient.addColorStop(0, '#FBF01AFF');
    gradient.addColorStop(0.5, '#1AFB67FF');
    gradient.addColorStop(1, '#1A43FBFF');

    function startAnimation() {

        function changeColor() {
            currentColor = (currentColor + 1) % colors.length;
            ctx.strokeStyle = colors[currentColor];
            drawLines();
            setTimeout(changeColor, 300);
        }

        changeColor();
    }


    function drawLines() {
        ctx.beginPath();
        ctx.arc(260, 266, 230, 0, Math.PI * 2, true);
        ctx.lineWidth = 3;
        ctx.stroke();
    }


    ctx.beginPath()
    ctx.setLineDash([15]);
    ctx.strokeStyle = 'black';
    ctx.ellipse(260, 266, 230, 66, 0, 0, Math.PI, true);
    ctx.fillStyle = 'rgba(132, 224, 123, 1)';
    ctx.fillStyle = gradient;
    ctx.fill();
    ctx.stroke();

    ctx.beginPath()
    ctx.setLineDash([0]);
    ctx.moveTo(490, 266);
    ctx.ellipse(260, 266, 230, 66, 0, 0, Math.PI, false);
    ctx.fillStyle = 'rgba(132, 224, 123, 1)';
    ctx.lineWidth = 3;
    ctx.fillStyle = gradient;
    ctx.fill();
    ctx.stroke();


    ctx.beginPath();
    ctx.setLineDash([8]);
    ctx.lineWidth = 2;
    ctx.strokeStyle = '#343D45';
    ctx.moveTo(260, 99);
    ctx.lineTo(300, 99);
    ctx.lineTo(356, 128);
    ctx.lineTo(260, 266);
    ctx.lineTo(198, 134);
    ctx.lineTo(260, 99);
    ctx.fillStyle = 'rgba(28, 85, 195, 0.64)';
    ctx.fill();
    ctx.stroke();


    ctx.beginPath()
    ctx.strokeStyle = 'black';
    ctx.setLineDash([15]);
    ctx.moveTo(412, 99);
    ctx.ellipse(260, 99, 152, 38, 0, 0, Math.PI, true);
    ctx.fillStyle = 'rgba(132, 224, 123, 1)';
    ctx.fillStyle = gradient;
    ctx.fill();
    ctx.stroke();

    ctx.beginPath()
    ctx.setLineDash([0]);
    ctx.moveTo(412, 99);
    ctx.ellipse(260, 99, 152, 38, 0, 0, Math.PI, false);
    ctx.lineWidth = 3;
    ctx.fillStyle = 'rgba(132, 224, 123, 1)';
    ctx.fillStyle = gradient;
    ctx.fill();
    ctx.stroke();


    ctx.beginPath()
    ctx.lineWidth = 2;                         //pereriz sprava
    ctx.setLineDash([8]);
    ctx.strokeStyle = '#343D45';
    ctx.moveTo(260, 41);
    ctx.lineTo(260, 266);
    ctx.moveTo(260, 99);
    ctx.lineTo(356, 128);

    ctx.fillStyle = 'rgba(136, 64, 216, 0.53)';
    ctx.fill();
    ctx.stroke();


    ctx.beginPath()
    ctx.setLineDash([8]);
    ctx.strokeStyle = '#343D45';
    ctx.moveTo(260, 99);
    ctx.lineTo(166, 70);
    ctx.stroke();


    ctx.beginPath()
    ctx.strokeStyle = '#343D45';
    ctx.moveTo(166, 70);
    ctx.setLineDash([8]);
    ctx.lineTo(198, 134);

    ctx.stroke();


    ctx.beginPath()
    ctx.setLineDash([0]);
    ctx.lineWidth = 3;
    ctx.moveTo(360, 128);
    ctx.arc(356, 128, 4, 0, Math.PI * 2, false);
    ctx.moveTo(264, 99);
    ctx.arc(260, 99, 4, 0, Math.PI * 2, false);
    ctx.moveTo(170, 70);
    ctx.arc(166, 70, 4, 0, Math.PI * 2, false);
    ctx.moveTo(264, 49);
    ctx.arc(260, 47, 4, 0, Math.PI * 2, false);
    ctx.moveTo(264, 266);
    ctx.arc(260, 266, 4, 0, Math.PI * 2, false);


    ctx.fillStyle = 'rgba(216, 241, 40, 1)';
    ctx.fill();
    ctx.stroke();
    ctx.stroke();


    ctx.font = "bold 30px Segoe UI";
    ctx.fillStyle = "#2A2C8D"

    ctx.fillText("O", 249, 295);
    ctx.fillText("O1", 264, 95);
    ctx.fillText("P", 254, 27);
    ctx.fillText("B", 150, 100);
    ctx.fillText("A", 355, 155);


</script>

</body>
</html>